<section class="details">
  <div class="container">
    <div class="row mb-4">
      <div class="col-lg-8 col-md-8">
        @if (details) {
        <p-card>
          <div
            class="title d-flex justify-content-between align-items-center mb-4"
          >
            <h6 class="m-0 fw-bold">{{ details.data.name }}</h6>
            <i class="bi bi-hand-thumbs-up"></i>
          </div>
          <div
            class="info d-flex flex-column flex-lg-row align-items-start justify-content-between align-items-lg-center mb-1"
          >
            <div class="informations">
              <div class="address d-flex gap-2 mb-3">
                <i class="bi bi-geo-alt"></i>
                <span>{{ details.data.street }}</span>
              </div>
              <div class="email d-flex gap-2 mb-3">
                <i class="bi bi-chat-square-text-fill"></i>
                <span>{{ details.data.email }}</span>
              </div>
              <div class="phone d-flex gap-2 mb-3">
                <i class="bi bi-telephone"></i>
                <span>{{ details.data.phone_number }}</span>
              </div>
            </div>
            <div
              class="booking d-flex gap-lg-3 gap-md-3 gap-1 align-self-center align-self-lg-end"
            >
              <div class="call">
                <p-button label="Call Now"></p-button>
              </div>
              <div class="book">
                <p-button
                  label="Schedule a Booking"
                  styleClass="p-button-outlined"
                ></p-button>
              </div>
            </div>
          </div>
          <div class="menu mb-4">
            <p-tabMenu
              [model]="items"
              (activeItemChange)="onActiveItemChange($event)"
              [activeItem]="activeItem"
            ></p-tabMenu>
          </div>
          <div class="carasoul-video mb-4">
            <router-outlet></router-outlet>
          </div>
          <div class="desc">
            <h5 class="fw-bold">Description :</h5>
            <div class="text">
              <p
                class="m-0"
                [ngClass]="{ 'show-full': showFullContent }"
                (click)="toggleFullContent()"
              >
                {{ details.data.description }}
              </p>
            </div>
          </div>
        </p-card>
        }@else {
        <div
          class="spinner d-flex justify-content-center align-items-center my-5"
        >
          <app-spinner></app-spinner>
        </div>
        }
      </div>
      <div class="col-lg-3 col-md-3 flex-grow-1">
        <p-card>
          <div class="title mb-4">
            <h6 class="m-0 fw-bold">Location :</h6>
          </div>
          <div class="image mb-4">
            <img
              class="img-fluid w-100"
              src="../../../../assets/listing/Rectangle 37.png"
              alt="map"
            />
          </div>
          <div class="review mb-4">
            <h6 class="m-0 fw-bold">Give them a Review :</h6>
          </div>
          <form>
            <div class="text mb-4">
              <textarea
                placeholder="Type your comment here ..."
                class="w-100"
                pInputTextarea
              ></textarea>
            </div>
            <div class="submit d-flex justify-content-end mb-4">
              <p-button
                label="Post Comment"
                styleClass="p-button-outlined"
              ></p-button>
            </div>
          </form>
          <div class="reviews d-flex justify-content-between mb-4">
            <h6 class="m-0 fw-bold">Reviews :</h6>
            <p class="m-0">< ></p>
          </div>
          <div class="name d-flex flex-column gap-3 mb-4">
            <div class="icons d-flex gap-3">
              <i class="bi bi-person-circle"></i>
              <span class="fw-bold">Sanam Ishtiaq</span>
            </div>
            <div class="paragraph">
              <p>
                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Modi
                accusantium velit beatae quidem neque, id alias fuga facilis
                explicabo nihil
              </p>
            </div>
          </div>
          <div class="name d-flex flex-column gap-3 mb-4">
            <div class="icons d-flex gap-3">
              <i class="bi bi-person-circle"></i>
              <span class="fw-bold">Sanam Ishtiaq</span>
            </div>
            <div class="paragraph">
              <p>
                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Modi
                accusantium velit beatae quidem neque, id alias fuga facilis
                explicabo nihil
              </p>
            </div>
          </div>
        </p-card>
      </div>
    </div>
  </div>
  <div class="col-12">
    <div class="container">
      <div class="results mb-3">
        <h6 class="fw-bold">Top Posts:</h6>
      </div>
    </div>
    <div class="grid-view-results">
      <section class="postcard container d-flex flex-column gap-3 mb-3">
        @for (post of postingArray.slice(startIndex(), endIndex()); track
        post.id) {
        <ng-container>
          <div routerLink="/postdetails/{{ post.id }}/" class="d-flex">
            <div class="image">
              <img
                class="img-fluid"
                src="{{ post.business.logo }}"
                alt="image"
              />
            </div>
            <p-card class="flex-grow-1">
              <div class="row mb-lg-4 mb-2">
                <div class="col-lg-12">
                  <div class="d-flex flex-column">
                    <h5 class="text-dark fw-bold m-0">{{ post.title }}</h5>
                    <span class="text-black-50">{{ post.postTime }}</span>
                  </div>
                </div>
              </div>
              <div class="row mb-lg-3 mb-1">
                <div class="col-12">
                  <div class="d-flex gap-lg-5 gap-2">
                    <p
                      class="m-0"
                      [ngClass]="{
                        'fw-bold': post.bold,
                        'fst-italic': post.italic
                      }"
                    >
                      {{ post.content }}
                    </p>
                  </div>
                </div>
              </div>
            </p-card>
          </div>
        </ng-container>
        }@empty {
        <div class="spinner d-flex justify-content-center my-5">
          <app-spinner></app-spinner>
        </div>
        }
        <div class="mb-4">
          <p-paginator
            (onPageChange)="paginate($any($event))"
            [rows]="pageSize"
            [totalRecords]="postingArray.length"
          ></p-paginator>
        </div>
      </section>
    </div>
  </div>
</section>
